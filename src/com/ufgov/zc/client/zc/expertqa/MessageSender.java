package com.ufgov.zc.client.zc.expertqa;import java.util.HashMap;import java.util.Map;import com.ufgov.zc.client.common.ServiceFactory;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.common.system.RequestMeta;import com.ufgov.zc.common.zc.publish.IExpertQuestionDelegate;public class MessageSender {  private String object;  private String selfObjectName;  private String toObjectName;  private String time;  private String content;  private String projectCode;  private String packCode;  private IExpertQuestionDelegate expertQuestionDelegate = (IExpertQuestionDelegate) ServiceFactory.create(IExpertQuestionDelegate.class,  "expertQuestionDelegate");  private RequestMeta requestMeta = WorkEnv.getInstance().getRequestMeta();  public MessageSender() {  }  /**   * 接收相关参数   * @param object   * @param selfObjectName   * @param toObjectName   * @param content   * @param projectCode   * @param packCode   */  public MessageSender(String object, String selfObjectName, String toObjectName, String time, String content, String projectCode, String packCode) {    this.object = object;    this.selfObjectName = selfObjectName;    this.toObjectName = toObjectName;    this.time = time;    this.content = content;    this.projectCode = projectCode;    this.packCode = packCode;  }  public void destroyCatch(String flag) {    expertQuestionDelegate.destroyCatchFN(flag, requestMeta);  }  /**   * 发送消息到服务器   */  public void start() {    Map map = new HashMap();    map.put("object", object);    map.put("selfObjectName", selfObjectName);    map.put("toObjectName", toObjectName);    map.put("time", time);    map.put("content", content);    map.put("projectCode", projectCode);    map.put("packCode", packCode);    //数据保存数据库失败，那么更改聊天内容为发送内容+发送失败！    //数据保存数据库成功，那么执行设置缓冲区    expertQuestionDelegate.doOperate(map, requestMeta);  }  /**   * 保存数据库   */  public boolean insertDatabase() {    boolean success = true;    return success;  }}