package com.ufgov.zc.client.zc.ztb.Threads;import com.ufgov.zc.client.zc.ztb.util.PubFunction;import javax.swing.*;import java.awt.*;import java.awt.event.ActionEvent;import java.awt.event.ActionListener;import java.awt.event.ComponentAdapter;import java.awt.event.ComponentEvent;public class BaseProgressThread implements ActionListener {  protected JDialog dialog;  protected JProgressBar progressBar;  protected Window parent;  protected Thread thread; //处理业务的线程  protected String statusInfo;  protected String filePath;  protected String projCode;  protected String packCode;  protected void initUI() {    if (parent instanceof Dialog) {      dialog = new JDialog((Dialog) parent, true);    } else if (parent instanceof Frame) {      dialog = new JDialog((Frame) parent, true);    } else {      dialog = new JDialog((Frame) null, true);    }    final JPanel mainPane = new JPanel(null);    if (progressBar == null) {      progressBar = new JProgressBar();    }    progressBar.setStringPainted(true);    //progressBar.setIndeterminate(true);    progressBar.setString(statusInfo);    mainPane.add(progressBar);    dialog.getContentPane().add(mainPane);    dialog.setBackground(Color.blue);    dialog.setUndecorated(true);//除去title    dialog.setResizable(false);    dialog.setSize(460, 50);    dialog.setLocation(PubFunction.getPosition(460));    dialog.setDefaultCloseOperation(JDialog.DO_NOTHING_ON_CLOSE); // 不允许关闭    mainPane.addComponentListener(new ComponentAdapter() {      public void componentResized(ComponentEvent e) {        layout(mainPane.getWidth(), mainPane.getHeight());      }    });  }  private void layout(int width, int height) {    progressBar.setBounds(0, 0, 450, 20);  }  public String getFilePath() {    return filePath;  }  public void setFilePath(String filePath) {    this.filePath = filePath;  }  public String getProjCode() {    return projCode;  }  public void setProjCode(String projCode) {    this.projCode = projCode;  }  public String getPackCode() {    return packCode;  }  public void setPackCode(String packCode) {    this.packCode = packCode;  }  public Window getParent() {    return parent;  }  public void setParent(Window parent) {    this.parent = parent;  }  public void actionPerformed(ActionEvent e) {    thread.stop();  }}