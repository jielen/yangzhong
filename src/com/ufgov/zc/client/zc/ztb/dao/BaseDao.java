package com.ufgov.zc.client.zc.ztb.dao;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.client.zc.ztb.component.ProjectInfoPanel;import com.ufgov.zc.client.zc.ztb.model.DBProperty;import com.ufgov.zc.client.zc.ztb.util.GV;import com.ufgov.zc.common.system.RequestMeta;public class BaseDao {	private static String serverURL = null;	public static String getServerURL() throws Exception {		String url = getServerURLFromRequestMeta();		if (url != null) {			serverURL = url;			return serverURL;		} else {			return getServerURLFromConfig();		}	}	public static String getServerURLFromConfig() throws Exception {		try {			DBProperty dbp = SystemPropertyDao.getInstance().readDBProperty();			serverURL = dbp.getWebServiceHostPort();			if (serverURL.indexOf("/GB") == -1) {				serverURL += "/GB/";			}		} catch (Exception e) {			e.printStackTrace();			throw new Exception(GV.getSimpleMsg("serverIPAndPortGotErr")					+ e.getMessage());		}		return serverURL;	}	public static String getServerURLFromRequestMeta() {		if (WorkEnv.getInstance().getWebRoot() != null				&& !"".equals(WorkEnv.getInstance().getWebRoot())) {			return WorkEnv.getInstance().getWebRoot();		} else {			return null;		}	}	public static Integer getFlowingNO() {		return ProjectInfoPanel.getBusinessProject().getFlowingNO();	}	public RequestMeta getRequestMeta() {		return WorkEnv.getInstance().getRequestMeta();	}}