/**   * @(#) project: GK* @(#) file: ZcEbEvalResultPortalPanel.java* * Copyright 2010 UFGOV, Inc. All rights reserved.* UFGOV PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.* */package com.ufgov.zc.client.zc.eval.result;import java.awt.Color;import java.awt.Font;import java.util.ArrayList;import java.util.List;import java.util.Map;import javax.swing.BorderFactory;import javax.swing.JComponent;import javax.swing.JTabbedPane;import javax.swing.border.TitledBorder;import com.ufgov.zc.client.common.LangTransMeta;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.client.component.JFuncToolBar;import com.ufgov.zc.client.component.ui.fieldeditor.AbstractFieldEditor;import com.ufgov.zc.client.component.zc.AbstractMainSubEditPanel;import com.ufgov.zc.common.system.RequestMeta;import com.ufgov.zc.common.zc.model.EvalExpert;import com.ufgov.zc.common.zc.model.EvalPackProvider;import com.ufgov.zc.common.zc.model.ZcEbEvalPack;import com.ufgov.zc.common.zc.model.ZcEbPackEvalResult;/** * * @ClassName: ZcEbEvalResultPortalPanel* @Description: TODO(这里用一句话描述这个类的作用)* @date: 2010-11-14 下午02:44:47* @version: V1.0 * @since: 1.0* @author: fanpl* @modify: */public class ZcEbEvalResultPortalPanel extends AbstractMainSubEditPanel {  private static final long serialVersionUID = -842110054591687827L;  protected EvalExpert evalExpert;  private static final String compoId = "ZC_EB_PROJ_CTRL";  private JTabbedPane mainJTabbedPane;  private RequestMeta requestMeta = WorkEnv.getInstance().getRequestMeta();  /*   * 评标结果基本面板   */  private ZcEbExpertEvalPackResultPanel expertEvalPackResultPanel;  private ZcEbExpertSumResultPanel sumResultPanel;  /*   * 评标汇总结果面板   */  public ZcEbEvalFinalResultPanel finalResultPanel;  /**   * 汇总基准参数的选择：有两种 1.以指标项为基准进行汇总。2.以评标专家为基准进行汇总   */  private String summaryBaseType;  /**   * 要汇总的状态：符合性评审结果的汇总false，还是评分性结果的汇总true。   */  private boolean isScoreResultSum;  private ZcEbEvalPack evalPack = new ZcEbEvalPack();  @Override  public List<AbstractFieldEditor> createFieldEditors() {    List<AbstractFieldEditor> editorList = new ArrayList<AbstractFieldEditor>();    return editorList;  }  @Override  public JComponent createSubBillPanel() {    mainJTabbedPane = new JTabbedPane();    return mainJTabbedPane;  }  @Override  public void initToolBar(JFuncToolBar toolBar) {  }  public ZcEbEvalResultPortalPanel(EvalExpert evalExpert, ZcEbEvalPack evalPack, boolean isScoreResultSum) {    this.isScoreResultSum = isScoreResultSum;    this.evalExpert = evalExpert;    this.evalPack = evalPack;    evalPack.setEvalExpert(evalExpert);    this.workPanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createEtchedBorder(), LangTransMeta.translate("ZC_EB_EVAL_PACK_TITLE"),    TitledBorder.CENTER, TitledBorder.TOP, new Font("宋体", Font.BOLD, 30), Color.BLUE));    this.colCount = 3;    init();    requestMeta.setCompoId(compoId);    refreshData();  }  private void refreshData() {    this.setEditingObject(evalPack);    initMainPanel();  }  private void initMainPanel() {    createTabPanel();  }  private void createTabPanel() {    //专家评审结果页签    expertEvalPackResultPanel = new ZcEbExpertEvalPackResultPanel(evalPack, isScoreResultSum);    expertEvalPackResultPanel.setPortalPanel(this);    //专家评标汇总页签    sumResultPanel = new ZcEbExpertSumResultPanel(isScoreResultSum);    //最终的汇总结果页签    finalResultPanel = new ZcEbEvalFinalResultPanel(evalPack, isScoreResultSum);    mainJTabbedPane.add(LangTransMeta.translate("ZC_EB_EXPERT_PACK_RESULT"), expertEvalPackResultPanel);    //    mainJTabbedPane.add("专家评分汇总表", sumResultPanel);    mainJTabbedPane.add(LangTransMeta.translate("ZC_EB_FINAL_RESULT"), finalResultPanel);  }  public void packResGened(List<ZcEbPackEvalResult> list) {    finalResultPanel.loadData(list);    finalResultPanel.refreshTableData();  }  public void sumResultPanelRefresh(List<EvalPackProvider> providerList, List<EvalExpert> evalExpertList, Map<String, ZcEbPackEvalResult> sumResultMap) {    sumResultPanel.loadData(providerList, evalExpertList, sumResultMap);    sumResultPanel.refreshTableData();  }}