package com.ufgov.zc.client.zc.projectlivingchange;import java.awt.Rectangle;import java.awt.event.WindowAdapter;import java.awt.event.WindowEvent;import javax.swing.BorderFactory;import javax.swing.DefaultComboBoxModel;import javax.swing.JButton;import javax.swing.JComboBox;import javax.swing.JEditorPane;import javax.swing.JFrame;import javax.swing.JLabel;import javax.swing.JOptionPane;import javax.swing.JPanel;import javax.swing.JScrollPane;import com.ufgov.zc.common.system.exception.OtherException;import com.ufgov.zc.common.zc.model.ZcEbPack;public class ZcProjectLivingChangeUIFrame extends JFrame {  private static final long serialVersionUID = 1L;  private JPanel jContentPane = null;  private JLabel cgTypeJLabel = null;  private JComboBox jComboBox = null;  private JButton closeJButton = null;  private JScrollPane changeReasonJScrollPane = null;  private JEditorPane changeReasionJEditorPane = null;  private JButton changeJButton = null;  private JFrame self;  private ZcEbPack zcEbPack;  /**   * This is the default constructor   */  public ZcProjectLivingChangeUIFrame(ZcEbPack zcEbPack) {    super();    this.zcEbPack = zcEbPack;    this.self = this;    initialize();  }  /**   * This method initializes this   *    * @return void   */  private void initialize() {    this.setSize(461, 311);    this.setContentPane(getJContentPane());    this.setTitle("采购方式现场变更");    this.addWindowListener(new WindowAdapter() {      public void windowClosing(WindowEvent e) {        closeDialog();      }    });  }  /**   * This method initializes jContentPane   *    * @return javax.swing.JPanel   */  private JPanel getJContentPane() {    if (jContentPane == null) {      cgTypeJLabel = new JLabel();      String tempStr = "";      if ("1".equals(zcEbPack.getPurType())) {        tempStr = "公开招标";      } else if ("3".equals(zcEbPack.getPurType())) {        tempStr = "竞争性谈判";      } else if ("4".equals(zcEbPack.getPurType())) {        tempStr = "单一来源采购";      } else if ("5".equals(zcEbPack.getPurType()))        tempStr = "询价";      cgTypeJLabel.setBounds(new Rectangle(8, 28, (tempStr.length() + 10) * 13, 27));      cgTypeJLabel.setText("采购方式由【" + tempStr + "】变更为：");      cgTypeJLabel.updateUI();      jContentPane = new JPanel();      jContentPane.setLayout(null);      jContentPane.add(cgTypeJLabel, null);      jContentPane.add(getJComboBox(), null);      jContentPane.add(getCloseJButton(), null);      jContentPane.add(getChangeReasonJScrollPane(), null);      jContentPane.add(getChangeJButton(), null);    }    return jContentPane;  }  /**   * This method initializes jComboBox	   * 	   * @return javax.swing.JComboBox	   */  private JComboBox getJComboBox() {    if (jComboBox == null) {      jComboBox = new JComboBox();      //jComboBox.setBounds(new Rectangle(170, 28, 108, 27));      jComboBox.setBounds(new Rectangle(cgTypeJLabel.getBounds().width + 10, 28, 110, 27));      String[] items = new String[2];      items[0] = "竞争性谈判";      items[1] = "单一来源采购";      DefaultComboBoxModel aModel = new DefaultComboBoxModel(items);      jComboBox.setModel(aModel);    }    return jComboBox;  }  public void closeDialog() {    //    int option = JOptionPane.showConfirmDialog(null, "确认要关闭窗口吗？", "信息提示", JOptionPane.YES_NO_OPTION, JOptionPane.OK_CANCEL_OPTION);    //    if (option == JOptionPane.YES_OPTION) {    //      this.dispose();    //    }    this.dispose();  }  public void afterChange() {  }  /**   * This method initializes closeJButton	   * 	   * @return javax.swing.JButton	   */  private JButton getCloseJButton() {    if (closeJButton == null) {      closeJButton = new JButton();      closeJButton.setBounds(new Rectangle(370, 245, 68, 24));      closeJButton.setText("关闭");      closeJButton.addActionListener(new java.awt.event.ActionListener() {        public void actionPerformed(java.awt.event.ActionEvent e) {          closeDialog(); // TCJLODO Auto-generated Event stub actionPerformed()        }      });    }    return closeJButton;  }  /**   * This method initializes changeReasonJScrollPane	   * 	   * @return javax.swing.JScrollPane	   */  private JScrollPane getChangeReasonJScrollPane() {    if (changeReasonJScrollPane == null) {      changeReasonJScrollPane = new JScrollPane();      changeReasonJScrollPane.setBounds(new Rectangle(8, 69, 430, 168));      changeReasonJScrollPane.setViewportView(getChangeReasionJEditorPane());      changeReasonJScrollPane.setBorder(BorderFactory.createTitledBorder("请输入变更原因："));    }    return changeReasonJScrollPane;  }  /**   * This method initializes changeReasionJEditorPane	   * 	   * @return javax.swing.JEditorPane	   */  public JEditorPane getChangeReasionJEditorPane() {    if (changeReasionJEditorPane == null) {      changeReasionJEditorPane = new JEditorPane();      changeReasionJEditorPane.setBorder(BorderFactory.createLoweredBevelBorder());    }    return changeReasionJEditorPane;  }  /**   * This method initializes changeJButton	   * 	   * @return javax.swing.JButton	   */  private JButton getChangeJButton() {    if (changeJButton == null) {      changeJButton = new JButton();      changeJButton.setBounds(new Rectangle(302, 245, 68, 24));      changeJButton.setText("变更");      changeJButton.addActionListener(new java.awt.event.ActionListener() {        public void actionPerformed(java.awt.event.ActionEvent e) {          String tempStr = "";          if ("竞争性谈判".equals(jComboBox.getModel().getSelectedItem().toString()))            tempStr = "3";          if ("单一来源采购".equals(jComboBox.getModel().getSelectedItem().toString()))            tempStr = "4";          DoProjectLivingChange doProjectLivingChange = new DoProjectLivingChange(zcEbPack, tempStr, changeReasionJEditorPane.getText()); // TCJLODO Auto-generated Event stub actionPerformed()          try {            doProjectLivingChange.startChange();            JOptionPane.showMessageDialog(self, "采购方式现场变更成功!", "信息提示", JOptionPane.INFORMATION_MESSAGE);            afterChange();          } catch (OtherException e1) {            // TCJLODO Auto-generated catch block            JOptionPane.showMessageDialog(self, "采购方式现场变更失败!\n原因：" + e1.getMessage(), "信息提示", JOptionPane.INFORMATION_MESSAGE);            e1.printStackTrace();          }        }      });    }    return changeJButton;  }}