/**   * @(#) project: GK* @(#) file: ZcEbEvalParamPanel.java* * Copyright 2010 UFGOV, Inc. All rights reserved.* UFGOV PROPRIETARY/CONFIDENTIAL. Use is subject to license terms.* */package com.ufgov.zc.client.zc.expertEval.evalParam;import java.awt.BorderLayout;import java.awt.Color;import java.awt.Font;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;import javax.swing.BorderFactory;import javax.swing.JDialog;import javax.swing.JPanel;import javax.swing.border.TitledBorder;import com.ufgov.smartclient.component.table.fixedtable.JPageableFixedTable;import com.ufgov.zc.client.common.ServiceFactory;import com.ufgov.zc.client.common.WorkEnv;import com.ufgov.zc.client.component.JTablePanel;import com.ufgov.zc.client.component.table.celleditor.DateCellEditor;import com.ufgov.zc.client.component.table.celleditor.TextCellEditor;import com.ufgov.zc.client.component.table.cellrenderer.DateCellRenderer;import com.ufgov.zc.client.util.SwingUtil;import com.ufgov.zc.client.zc.ZcUtil;import com.ufgov.zc.client.zc.expertEval.component.tableModelConverter.EvalPackToTableModelConverter;import com.ufgov.zc.common.system.RequestMeta;import com.ufgov.zc.common.zc.model.ZcEbEvalPack;import com.ufgov.zc.common.zc.publish.IZcEbEvalServiceDelegate;/** * * @ClassName: ZcEbEvalParamListPanel* @Description: 评标参数列表页面* @date: 2010-11-10 下午03:01:57* @version: V1.0 * @since: 1.0* @author: fanpl* @modify: */public class ZcEbEvalParamListPanel extends JPanel {  protected JDialog parentDialog;  protected JTablePanel tablePanel = new JTablePanel();  protected ZcEbEvalPack evalPack;  protected RequestMeta requestMeta = WorkEnv.getInstance().getRequestMeta();  private EvalPackToTableModelConverter modelConverter = new EvalPackToTableModelConverter();  private List zcEbEvalParamList = new ArrayList();  protected IZcEbEvalServiceDelegate zcEbEvalServiceDelegate = (IZcEbEvalServiceDelegate) ServiceFactory.create(IZcEbEvalServiceDelegate.class,  "zcEbEvalServiceDelegate");  protected Map<String, String> paramMap;  public ZcEbEvalParamListPanel(ZcEbEvalPack evalPack) {    this.evalPack = evalPack;    loadTableData();    initComponents();  }  public void loadTableData() {    Map map = new HashMap();    map.put("projCode", evalPack.getProjCode());    map.put("packCode", evalPack.getPackCode());    map.put("formulaCode", evalPack.getFormulaCode());    zcEbEvalParamList = zcEbEvalServiceDelegate.getEvalParamResultList(map, requestMeta);  }  protected void initComponents() {    this.setLayout(new BorderLayout());    tablePanel.init();    tablePanel.setBorder(BorderFactory.createTitledBorder(BorderFactory.createEtchedBorder(), "评标参数设置", TitledBorder.CENTER, TitledBorder.TOP,    new Font("宋体", Font.BOLD, 15), Color.BLUE));    tablePanel.setTablePreferencesKey(this.getClass().getName() + "_table");    tablePanel.getSearchBar().setVisible(false);    tablePanel.getTable().setShowCheckedColumn(false);    initTable();    this.add(tablePanel, BorderLayout.CENTER);  }  private void setTabledetailEditor(JPageableFixedTable table) {    table.setDefaultEditor(String.class, new TextCellEditor());    SwingUtil.setTableCellEditor(table, "SETDATE", new DateCellEditor());    SwingUtil.setTableCellRenderer(table, "SETDATE", new DateCellRenderer());  }  private void initTable() {    tablePanel.setTableModel(EvalPackToTableModelConverter.convertEvalParamTableData(zcEbEvalParamList, false));    // 翻译从表表头列    ZcUtil.translateColName(tablePanel.getTable(), EvalPackToTableModelConverter.getEvalParamInfo());    // 设置从表列类型    setTabledetailEditor(tablePanel.getTable());  }}