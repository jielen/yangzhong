package com.ufgov.zc.client.common.converter.zc;import java.util.ArrayList;import java.util.List;import java.util.Vector;import javax.swing.table.DefaultTableModel;import javax.swing.table.TableModel;import com.ufgov.zc.client.common.LangTransMeta;import com.ufgov.zc.client.common.MyTableModel;import com.ufgov.zc.client.component.table.BeanTableModel;import com.ufgov.zc.client.component.table.ColumnBeanPropertyPair;import com.ufgov.zc.client.datacache.AsValDataCache;import com.ufgov.zc.client.datacache.CompanyDataCache;import com.ufgov.zc.common.system.Guid;import com.ufgov.zc.common.system.constants.ZcElementConstants;import com.ufgov.zc.common.system.util.DateUtil;import com.ufgov.zc.common.zc.ZcEbBulletinConstants;import com.ufgov.zc.common.zc.model.ZcEbBulletin;import com.ufgov.zc.common.zc.model.ZcEbBulletinPack;public class ZcEbBulletinToTableModelConverter {  public static DefaultTableModel convertToTableModel(List bulletinList, String type) {    MyTableModel tableModel = null;    Vector names = new Vector();    Vector values = new Vector();//    names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_BULLETIN_ID));    if ("C".equals(type)) {      names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_PACK_CODE));      names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_PACK_NAME));    } else {      names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_PROJ_CODE));      names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_ZC_MAKE_NAME));    }    names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_BULLETIN_TYPE));    names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_BULLETIN_STATUS));    if (!ZcEbBulletinConstants.TYPE_BULLETIN_JING_JIA_BID.equals(type)) {      names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_ZC_CO_NAME));    }    names.add("开标时间");    names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_INPUT_DATE));    names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_INPUTOR_NAME));    //    names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_EFFECTIVE_DATE));    //    names.add("公告截止时间");    names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_REMARK));    //names.add(LangTransMeta.translate(ZcElementConstants.FIELD_TRANS_CO_CODE));    if ("B".equals(type)) {      names.add("抽取专家纪检状态");    }    if (bulletinList != null && bulletinList.size() > 0) {      for (int i = 0; i < bulletinList.size(); i++) {        Vector rowData = new Vector();        ZcEbBulletin zcEbBulletin = (ZcEbBulletin) bulletinList.get(i);//        rowData.add(zcEbBulletin.getBulletinID());        rowData.add(zcEbBulletin.getProjCode());        rowData.add(zcEbBulletin.getProjName());                rowData.add(AsValDataCache.getName("VS_ZC_EB_BULLETIN_TYPE", zcEbBulletin.getBulletinType()));        rowData.add(AsValDataCache.getName("ZC_EB_BULLETIN_STATUS", zcEbBulletin.getBulletinStatus()));        if (!ZcEbBulletinConstants.TYPE_BULLETIN_JING_JIA_BID.equals(type)) {          rowData.add(CompanyDataCache.getName(zcEbBulletin.getCoCode()));        }        rowData.add(DateUtil.dateToSsString(zcEbBulletin.getOpenBidTime()));        rowData.add(zcEbBulletin.getExecuteDate());        rowData.add(zcEbBulletin.getExecutor());        //        rowData.add(zcEbBulletin.getEffectiveDate());        //        rowData.add(zcEbBulletin.getFailureDate());        rowData.add(zcEbBulletin.getRemark());        //    rowData.add(zcEbBulletin.getCoCode());        if ("B".equals(type)) {          rowData.add(AsValDataCache.getName("VS_ZC_EB_BULLETIN_IS_EXTRAC", zcEbBulletin.getIsExtrac()));        }        values.add(rowData);      }    }    tableModel = new MyTableModel(values, names) {      public Class getColumnClass(int column) {        if ((column >= 0) && (column < getColumnCount()) && this.getRowCount() > 0) {          for (int row = 0; row < this.getRowCount(); row++) {            if (getValueAt(row, column) != null) {              return getValueAt(row, column).getClass();            }          }        }        return Object.class;      }      public boolean isCellEditable(int row, int colum) {        return false;      }    };    tableModel.setList(bulletinList);    return tableModel;  }  private static List<ColumnBeanPropertyPair> PackDetailInfo = new ArrayList<ColumnBeanPropertyPair>();  static {    PackDetailInfo.add(new ColumnBeanPropertyPair("PACK_NAME", "pack.packName", "分包编号"));    PackDetailInfo.add(new ColumnBeanPropertyPair("PACK_DESC", "pack.packDesc", "分包名称"));  }  public static List<ColumnBeanPropertyPair> getPackDetailInfo() {    return PackDetailInfo;  }  public static TableModel convertSubPackTableData(List<ZcEbBulletinPack> list) {    BeanTableModel<ZcEbBulletinPack> tm = new BeanTableModel<ZcEbBulletinPack>() {      private static final long serialVersionUID = 6888363838628062064L;      @Override      public boolean isCellEditable(int row, int column) {        String columnId = this.getColumnIdentifier(column);        if ("PACK_DESC".equals(columnId)) {          return false;        }        return super.isCellEditable(row, column);      }      @Override      public void setValueAt(Object aValue, int rowIndex, int columnIndex) {        super.setValueAt(aValue, rowIndex, columnIndex);      }    };    tm.setOidFieldName("tempId");    if (list != null) {      for (ZcEbBulletinPack o : list) {        o.setTempId(Guid.genID());      }    }    tm.setDataBean(list, PackDetailInfo);    return tm;  }}