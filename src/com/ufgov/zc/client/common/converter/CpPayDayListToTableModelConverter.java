package com.ufgov.zc.client.common.converter;import java.util.List;import java.util.Map;import java.util.Vector;import com.ufgov.zc.client.common.BillElementMeta;import com.ufgov.zc.client.common.LangTransMeta;import com.ufgov.zc.client.common.MyTableModel;import com.ufgov.zc.common.commonbiz.fieldmap.FieldMapRegister;import com.ufgov.zc.common.commonbiz.model.BillElement;import com.ufgov.zc.common.cp.model.CpPayBalList;import com.ufgov.zc.common.cp.model.CpPayDayList;import com.ufgov.zc.common.system.constants.CpElementConstants;public class CpPayDayListToTableModelConverter {  public static Vector getCpPayDayListColumns(BillElementMeta bem) {    Vector names = new Vector();    List sumFields = bem.getSumField();    BillElement element = null;    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_CO_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_CO_CODE));      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_CO_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_B_ACC_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_B_ACC_CODE));      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_B_ACC_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_ORG_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_ORG_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PAYTYPE_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_PAYTYPE_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_OUTLAY_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_OUTLAY_CODE));      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_OUTLAY_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PROJECT_TYPE_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_PROJECT_TYPE_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PROJECT_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_PROJECT_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_FUND_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_FUND_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_ORIGIN_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_ORIGIN_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PAYOUT_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_PAYOUT_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_MANAGE_CODE)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_MANAGE_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR1)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_D_ATTR1_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR2)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_D_ATTR2_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR3)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_D_ATTR3_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR4)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_D_ATTR4_NAME));    }    if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR5)) {      names.add(LangTransMeta.translate(CpElementConstants.FIELD_TRANS_D_ATTR5_NAME));    }    names.add("金额");    return names;  }  public static Vector getCpPayDayListRecords(BillElementMeta bem, List records) {    Vector values = new Vector();    CpPayDayList bill = null;    BillElement element = null;    List sumFields = bem.getSumField();    Map cpPayBalListFM = FieldMapRegister.get(CpPayBalList.class);    for (int i = 0; i < records.size(); i++) {      bill = (CpPayDayList) records.get(i);      Vector eachRowData = new Vector();      //			for (int j = 0; j < sumFields.size(); j++) {      //				element = (BillElement) sumFields.get(j);      //				eachRowData.add(BeanUtil.get((String) cpPayBalListFM      //						.get(element.getElementCode()), bill));      //			}      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_CO_CODE)) {        eachRowData.add(bill.getCoCode());        eachRowData.add(bill.getCoName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_B_ACC_CODE)) {        eachRowData.add(bill.getBaccCode());        eachRowData.add(bill.getBaccName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_ORG_CODE)) {        eachRowData.add(bill.getOrgName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PAYTYPE_CODE)) {        eachRowData.add(bill.getPaytypeName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_OUTLAY_CODE)) {        eachRowData.add(bill.getOutlayCode());        eachRowData.add(bill.getOutlayName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PROJECT_TYPE_CODE)) {        eachRowData.add(bill.getProjectTypeName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PROJECT_CODE)) {        eachRowData.add(bill.getProjectName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_FUND_CODE)) {        eachRowData.add(bill.getFundName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_ORIGIN_CODE)) {        eachRowData.add(bill.getOriginName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_PAYOUT_CODE)) {        eachRowData.add(bill.getPayoutName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_MANAGE_CODE)) {        eachRowData.add(bill.getManageName());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR1)) {        eachRowData.add(bill.getDattr1());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR2)) {        eachRowData.add(bill.getDattr2());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR3)) {        eachRowData.add(bill.getDattr3());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR4)) {        eachRowData.add(bill.getDattr4());      }      if (bem.isElementDecFlag(CpElementConstants.FIELD_NAME_D_ATTR5)) {        eachRowData.add(bill.getDattr5());      }      eachRowData.add(bill.getMoney());      values.add(eachRowData);    }    return values;  }  public static MyTableModel getCpPayDayListMode(List cpPayDayListList,  BillElementMeta bem) {    MyTableModel cpPayDayListTableModel = null;    Vector names = getCpPayDayListColumns(bem);    Vector values = getCpPayDayListRecords(bem, cpPayDayListList);    cpPayDayListTableModel = new MyTableModel(values, names) {      @Override      public Class getColumnClass(int column) {        if ((column >= 0) && (column < getColumnCount()) && this.getRowCount() > 0) {          for (int row = 0; row < this.getRowCount(); row++) {            if (getValueAt(row, column) != null) {              return getValueAt(row, column).getClass();            }          }        }        return Object.class;      }      @Override      public boolean isCellEditable(int row, int colum) {        return false;      }    };    cpPayDayListTableModel.setList(cpPayDayListList);    return cpPayDayListTableModel;  }}