/** * 省厅招标专家管理使用 * ZcEbEvalBidTeamStToTableModelConverter.java * com.ufgov.gk.client.zc.zcebsignup * Administrator * 2010-5-26 */package com.ufgov.zc.client.common.converter;import java.util.List;import javax.swing.table.TableModel;import com.ufgov.zc.client.component.table.BeanTableModel;import com.ufgov.zc.common.commonbiz.model.BaseElement;import com.ufgov.zc.common.system.Guid;import com.ufgov.zc.common.system.util.BeanUtil;import com.ufgov.zc.common.zc.model.TreeNodeValueObject;import com.ufgov.zc.common.zc.model.ZcEbEvalBidTeamMember;/** * @author Administrator * */public class ZcEbEvalBidTeamStToTableModelConverter extends ZcEbEvalBidTeamToTableModelConverter {  /**   *    * 招标专家管理从表TableModel   */  //@Override  public TableModel convertMembersDataToTableModel(List deList) {    BeanTableModel<ZcEbEvalBidTeamMember> tm = new BeanTableModel<ZcEbEvalBidTeamMember>() {      @Override      public boolean isCellEditable(int row, int column) {        if (isEditable()) {          return true;        }        return false;      }      @Override      public void setValueAt(Object aValue, int rowIndex, int columnIndex) {        ZcEbEvalBidTeamMember bean = dataBeanList.get(rowIndex);        if (aValue instanceof BaseElement) {          BeanUtil.set(columnBeanPropertyPairList.get(columnIndex).getBeanPropertyName(),          ((BaseElement) aValue).getName(), bean);          fireTableCellUpdated(rowIndex, columnIndex);          putEditedData(dataBeanList.get(rowIndex));        } else if ("EXPERT_TYPE_NAME".equals(this.getColumnIdentifier(columnIndex))) {          if (aValue == null) {            this.getBean(rowIndex).setExpertTypeCode(null);            this.getBean(rowIndex).setExpertTypeName(null);          } else {            String code = ((TreeNodeValueObject) aValue).getCode();            String name = ((TreeNodeValueObject) aValue).getName();            if (code != null || name != null) {              this.getBean(rowIndex).setExpertTypeCode(code);              this.getBean(rowIndex).setExpertTypeName(name);            }          }          fireTableCellUpdated(rowIndex, columnIndex);          putEditedData(dataBeanList.get(rowIndex));        } else {          super.setValueAt(aValue, rowIndex, columnIndex);        }      }    };    tm.setOidFieldName("tempGuid");    String[] colums = new String[] { "EXPERT_CODE", "EXPERT_TYPE_NAME", "EXPERT_NAME", "EXPERT_ID_CARD", "SEX", "DUTY", "DEPARTMENT", "PHONE",    "EMAIL", /*"EXPERT_EVAL_PROGRESS"/*,"IS_LEADER"*/};    String[] names = new String[] { "expertCode", "expertTypeName", "expertName", "expertIdCard", "sex", "duty", "department", "phone", "email",    /* "expertEvalProgress"/*,"isLeader"*/};    int i = 0;    for (Object object : deList) {      i++;      ZcEbEvalBidTeamMember member = (ZcEbEvalBidTeamMember) object;      member.setTempGuid(Guid.genID() + i);    }    tm.setDataBean(deList, createColumnBeanPropertyPairs(colums, names));    return tm;  }}