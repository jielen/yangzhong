package com.ufgov.zc.server.zc.dao.ibatis;import java.util.ArrayList;import java.util.List;import org.springframework.orm.ibatis.support.SqlMapClientDaoSupport;import com.ufgov.zc.common.system.constants.NumLimConstants;import com.ufgov.zc.common.system.dto.ElementConditionDto;import com.ufgov.zc.common.zc.model.ZcEbQuestion;import com.ufgov.zc.common.zc.model.ZcEbQuestionPack;import com.ufgov.zc.common.zc.model.ZcEbQuestionWithBLOBs;import com.ufgov.zc.server.system.util.NumLimUtil;import com.ufgov.zc.server.zc.dao.IZCQuestionDao;public class ZCQuestionDao extends SqlMapClientDaoSupport implements IZCQuestionDao {  public int deleteByPrimaryKey(String code) {    int t = getSqlMapClientTemplate().delete("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.deleteByPrimaryKey", code);    getSqlMapClientTemplate().delete("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.deleteDetailByPrimaryKey", code);    return t;  }  public int insert(ZcEbQuestionWithBLOBs record) {    getSqlMapClientTemplate().insert("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.insert", record);    if (record.getPackLst() != null) {      for (int i = 0; i < record.getPackLst().size(); i++) {        ZcEbQuestionPack d = (ZcEbQuestionPack) record.getPackLst().get(i);        d.setZyCode(record.getZyCode());        getSqlMapClientTemplate().insert("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.insertDetail", d);      }    }    return 1;  }  public ZcEbQuestionWithBLOBs selectByPrimaryKey(String code) {    ZcEbQuestionWithBLOBs rtn = (ZcEbQuestionWithBLOBs) getSqlMapClientTemplate().queryForObject("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.selectByPrimaryKey", code);    List dLst = getSqlMapClientTemplate().queryForList("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.selectDetail", code);    rtn.setPackLst(dLst == null ? new ArrayList() : dLst);    return rtn;  }  public int updateByPrimaryKey(ZcEbQuestion record) {    getSqlMapClientTemplate().update("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.updateByPrimaryKeyWithBLOBs", record);    getSqlMapClientTemplate().delete("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.deleteDetailByPrimaryKey", record.getZyCode());    if (record.getPackLst() != null) {      for (int i = 0; i < record.getPackLst().size(); i++) {        ZcEbQuestionPack d = (ZcEbQuestionPack) record.getPackLst().get(i);        d.setZyCode(record.getZyCode());        getSqlMapClientTemplate().insert("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.insertDetail", d);      }    }    return 1;  }  public List getMainDataLst(ElementConditionDto dto) {    dto.setNumLimitStr(NumLimUtil.getInstance().getNumLimCondByCoType(dto.getWfcompoId(), NumLimConstants.FWATCH));    return getSqlMapClientTemplate().queryForList("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.selectMainDataLst", dto);  }  public int updateByPrimaryKeyWithBLOBs(ZcEbQuestionWithBLOBs record) {    getSqlMapClientTemplate().insert("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.updateByPrimaryKeyWithBLOBs", record);    getSqlMapClientTemplate().delete("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.deleteDetailByPrimaryKey", record.getZyCode());    if (record.getPackLst() != null) {      for (int i = 0; i < record.getPackLst().size(); i++) {        ZcEbQuestionPack d = (ZcEbQuestionPack) record.getPackLst().get(i);        d.setZyCode(record.getZyCode());        getSqlMapClientTemplate().insert("com.ufgov.zc.server.zc.dao.ZcEbQuestionMapper.insertDetail", d);      }    }    return 1;  }}