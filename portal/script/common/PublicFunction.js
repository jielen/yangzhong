var PF=new PublicFunction();function PublicFunction(){this.CLASSNAME="ufgov.portal.common.PublicFunction";this.v51Products=["GL","CU","GF","BG","RP","PR","FA","DB","PD","BD","NT","BM","HD","MOM","ZC","BC"];this.utf8EncodingProducts=["portal","AP"];this.getProductCode=PublicFunction_getProductCode;this.isV51Product=PublicFunction_isV51Product;this.setCookie=PublicFunction_setCookie;this.getCookie=PublicFunction_getCookie;this.statusScroll=PublicFunction_statusScroll;this.replaceWithSysVariables=PublicFunction_replaceWithSysVariables;this.processUrl=PublicFunction_processUrl;this.joinArray=PublicFunction_joinArray;this.getMenuUrl=PublicFunction_getMenuUrl;this.openFullScreenWindow=PublicFunction_openFullScreenWindow;this.addParameterToUrl=PublicFunction_addParameterToUrl;this.sortObject=PublicFunction_sortObject;this.escapeSpecial=PublicFunction_escapeSpecial;this.isUtf8EncodingProduct=PublicFunction_isUtf8EncodingProduct;this.URLEncoding=PublicFunction_URLEncoding}function PublicFunction_getProductCode(a){if(!a){return""}var b=a.indexOf("_");var c=a.substring(0,b);if(c=="AS"||a=="MA_COMPANY"||c=="WF"){c="admin"}else{if(c=="AP"){c="portal"}}return c}function PublicFunction_isV51Product(b){if(!b){return true}for(var a=0;a<this.v51Products.length;a++){if(b==this.v51Products[a]){return true}}return false}function PublicFunction_isUtf8EncodingProduct(b){if(!b){return true}for(var a=0;a<this.utf8EncodingProducts.length;a++){if(b==this.utf8EncodingProducts[a]){return true}}return false}function PublicFunction_setCookie(b,c){var a=new Date();a.setTime(a.getTime()+30*30*24*60*60*1*1000);document.cookie=b.trim()+"="+escape(c)+";expires="+a.toGMTString()}function PublicFunction_getCookie(d){var b=document.cookie.split(";");for(var c=0;c<b.length;c++){var a=b[c].split("=");if(d.trim()==a[0].trim()){return unescape(a[1])}}return null}function PublicFunction_statusScroll(b){if(!b){return}try{window.status=b.substring(start,b.length)+b.substring(0,start)}catch(a){start=0;window.status=b.substring(start,b.length)+b.substring(0,start)}start++;if(start>b.length){start=0}}function PublicFunction_replaceWithSysVariables(c,i){var o="";var b=c;if(i==null){var a=b;if(b.indexOf("/")==0){a=b.substring(1)}var m=a.substring(0,a.indexOf("/"));i=!this.isUtf8EncodingProduct(m)}var g=b.indexOf("@");var f=true;if(g>-1){while((g>-1)&&f){o+=b.substring(0,g);b=b.substr(g+1);var l=b.indexOf("@");var d;if(l==-1){d=b.substr(0,b.length);f=false}else{d=b.substring(0,l);b=b.substring(l+1)}try{value=document.getElementById(d).getAttribute("value")}catch(k){value="@"+d+"@"}if(i){o+=URLEncoding(value)}else{o+=value}g=b.indexOf("@");if(g<0){if(i){var j=b.split("&");if(j){b="";for(var n=0;n<j.length;n++){if(j[n].trim().length==0){continue}var h=j[n].split("=");b+="&"+h[0]+"=";if(h.length>1){b+=URLEncoding(h[1])}}}o+=b}else{o+=b}}}}else{o=b}return o}function PublicFunction_processUrl(c){var a=PF.replaceWithSysVariables(c,null);try{if(a.indexOf("token")==-1){if(a.indexOf("?")<0){a=a+"?token="+token}else{a=a+"&token="+token}}}catch(b){}return a}function PublicFunction_joinArray(a){var d="";if(!a){return d}for(var c=0;c<a.length;c++){if(typeof a[c]=="object"){try{for(var b=0;b<a[c].length;b++){if(typeof a[c][b]=="string"){d+=a[c][b]+","}}}catch(f){}}else{if(typeof a[c]=="string"){d+=a[c]+","}}}if(d.length>0){return d.substring(0,d.length-1)}return d}function PublicFunction_getMenuUrl(f,b){var c="getlistpage";var d="";if(b){c="geteditpage";d="1=0"}var a="";var e=PF.getProductCode(f);if(PF.isV51Product(e)){a="/"+e+"/Proxy?function="+c+"&condition="+d+"&componame="+f+"&fieldvalue="+f+"_E&unique=&token="+token}else{if(e=="portal"){a="/"+e+"/dispatcher.jsp?componame="+f+"&title="+document.title}else{a="/"+e+"/getpage_"+f+".action?function="+c+"&condition="+d+"&componame="+f+"&token="+token}}return a}function PublicFunction_openFullScreenWindow(b){var a=new Date();window.open(b,a.getTime(),"left=0px,top=0px,width="+screen.availWidth+",height="+screen.availHeight+",menubar=no,scrollbars=no,toolbar=no,resizable=no")}function PublicFunction_addParameterToUrl(c,b,a){if(c.indexOf(b+"=")>0){return c}if(c.indexOf("?")>0){c+="&"}else{c+="?"}c+=b+"="+a;return c}function PublicFunction_sortObject(e,b,f){var a={};var d=[];for(var c=0;c<e.length;c++){d.push(e[c])}d.sort(function(h,g){if(f&&f.toLowerCase()=="asc"){try{return h[b]-g[b]}catch(i){return h-g}}else{try{return g[b]-h[b]}catch(i){return g-h}}});return d}function PublicFunction_URLEncoding(b,g){var c=b;if(!g){var a=c;if(c.indexOf("/")==0){a=c.substring(1)}var j=a.substring(0,a.indexOf("/"));g=!this.isUtf8EncodingProduct(j)}if(!g){return c}var h=c.indexOf("?");if(h<0){return c}var k=c.substring(0,h+1);c=c.substring(h+1,c.length);var d=c.split("&");for(var f=0;f<d.length;f++){if(f>0){k+="&"}h=d[f].indexOf("=");if(h<0){k+=d[f];continue}k+=d[f].substring(0,h);var e=d[f].substring(h+1,d[f].length);if(e){k+="="+URLEncoding(e)}}return k}function PublicFunction_escapeSpecial(a){if("string"!=typeof a){return a}if(a==null){return null}a=a.replace(/%/g,"%25");a=a.replace(/&/g,"%26");a=a.replace(/\//g,"%2F");a=a.replace(/:/g,"%3A");a=a.replace(/;/g,"%3B");a=a.replace(/=/g,"%3D");a=a.replace(/\?/g,"%3F");a=a.replace(/@/g,"%40");a=a.replace(/"/g,"%22");a=a.replace(/#/g,"%23");a=a.replace(/</g,"%3C");a=a.replace(/>/g,"%3E");a=a.replace(/\+/g,"%2B");a=a.replace(/ /g,"+");return a};